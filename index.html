
    <!DOCTYPE html>
<html>
  <head>
    <title>first ordered items freez the most equity or in other terms (stock * price > stock * price)</title>
    <link rel="stylesheet" type="text/css" href="assets/css/ex.css"/>
    <link href="assets/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/css/bootstrap-responsive.css" rel="stylesheet">
    <script type="text/javascript" src="assets/js/d3.min.js"></script>
    <script type="text/javascript" src="assets/js/protovis-r3.2.js"></script>
    <script type="text/javascript" src="assets/data/manufacturer.js"></script>
    <script type="text/javascript" src="assets/data/category.js"></script>
  </head>
  <body>
    <!-- Navigation -->
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation" style="background-color:#081725;">

            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#"><span class="w">sunburst</span>&nbsp;<span class="r"><b>stock inventory</b>
                  </span>&nbsp;<span class="w">/ by stock value $</span></a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="scollapse navbar-collapse" id="bs-example-navbar-collapse-1">

                  <ul class="nav navbar-nav">
                    <li><a href="#"><span class="w">vantage point:</span></a></li>
                    <li>
                        <a href="#categorys"  onclick="update('category');">categorys</a>
                    </li>
                    <li>
                        <a href="#manufacturers" onclick="update('manufacturer');">manufacturers</a>
                    </li>

                    <li>
                        <!--//a href="#tree" onclick="update('tree');">tree map</a //-->
                    </li>

                </ul>

            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>
    <div id="center"><div id="fig"></div></div>

    <script type="text/javascript+protovis">

var margin = {top: 100, right: 10, bottom: 10, left: 100},
    width = window.innerWidth*0.9,
    height = window.innerHeight- margin.top;
var vis = new pv.Panel()
    .width(window.innerWidth*1.9)
    .height(window.innerHeight*1.9)
    .left(-window.innerWidth*0.45)
    .top(55);

var partition = vis.add(pv.Layout.Partition.Fill)
    .nodes(pv.dom(category).root("category").nodes())
    .size(function(d) d.nodeValue)
    .order("descending")
    .orient("radial");

partition.node.add(pv.Wedge)
    .fillStyle(pv.Colors.category19().by(function(d) d.parentNode && d.parentNode.nodeName))
    .strokeStyle("#fff")
    .lineWidth(.5);

partition.label.add(pv.Label)
    .visible(function(d) d.angle * d.outerRadius >= 6);

vis.render();

/* Update the layout's size method and re-render. */
function update(method) {
  switch (method) {
    case "tree":

    document.getElementById("fig").innerHTML="flush";
    break;
    case "category":


    partition = vis.add(pv.Layout.Partition.Fill)
    .nodes(pv.dom(category).root("category").nodes())
    .size(function(d) d.nodeValue)
    .order("descending")
    .orient("radial");

partition.node.add(pv.Wedge)
    .fillStyle(pv.Colors.category19().by(function(d) d.parentNode && d.parentNode.nodeName))
    .strokeStyle("#fff")
    .lineWidth(.5);

partition.label.add(pv.Label)
    .visible(function(d) d.angle * d.outerRadius >= 6);
      vis.render();
     break;
    case "manufacturer":

partition = vis.add(pv.Layout.Partition.Fill)
    .nodes(pv.dom(manufacturer).root("manufacturer").nodes())
    .size(function(d) d.nodeValue)
    .order("descending")
    .orient("radial");

partition.node.add(pv.Wedge)
    .fillStyle(pv.Colors.category19().by(function(d) d.parentNode && d.parentNode.nodeName))
    .strokeStyle("#fff")
    .lineWidth(.5);

partition.label.add(pv.Label)
    .visible(function(d) d.angle * d.outerRadius >= 6);
    vis.render();


     break;
  }

}


    </script>

  </body>
</html>
